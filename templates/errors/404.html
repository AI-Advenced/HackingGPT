{% extends "base.html" %}

{% block title %}404 - Page Not Found - HackingGPT{% endblock %}

{% block head %}
<style>
    .error-container {
        min-height: calc(100vh - 200px);
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .glitch {
        font-size: 8rem;
        font-weight: bold;
        text-transform: uppercase;
        position: relative;
        color: var(--accent-blue);
        animation: glitch 2s infinite;
    }
    
    .glitch::before,
    .glitch::after {
        content: attr(data-text);
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
    }
    
    .glitch::before {
        animation: glitch-skew 2s infinite;
        color: var(--accent-pink);
        z-index: -1;
    }
    
    .glitch::after {
        animation: glitch-shake 2s infinite;
        color: var(--accent-green);
        z-index: -2;
    }
    
    @keyframes glitch {
        0%, 100% { transform: translate(0); }
        20% { transform: translate(-5px, 2px); }
        40% { transform: translate(-5px, -2px); }
        60% { transform: translate(5px, 2px); }
        80% { transform: translate(5px, -2px); }
    }
    
    @keyframes glitch-skew {
        0%, 100% { transform: translate(0); }
        20% { transform: translate(3px, 1px); }
        40% { transform: translate(3px, -1px); }
        60% { transform: translate(-3px, 1px); }
        80% { transform: translate(-3px, -1px); }
    }
    
    @keyframes glitch-shake {
        0%, 100% { transform: translate(0); }
        10% { transform: translate(2px, -2px); }
        20% { transform: translate(-2px, 2px); }
        30% { transform: translate(2px, 2px); }
        40% { transform: translate(-2px, -2px); }
        50% { transform: translate(2px, -2px); }
        60% { transform: translate(-2px, 2px); }
        70% { transform: translate(2px, 2px); }
        80% { transform: translate(-2px, -2px); }
        90% { transform: translate(2px, -2px); }
    }
    
    .error-code {
        font-size: 12rem;
        font-weight: 900;
        line-height: 1;
        background: linear-gradient(45deg, var(--accent-blue), var(--accent-pink));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-align: center;
        margin-bottom: 2rem;
    }
    
    .scan-line {
        height: 4px;
        background: linear-gradient(90deg, transparent, var(--accent-green), transparent);
        animation: scan 3s infinite;
        margin: 2rem 0;
        border-radius: 2px;
    }
    
    @keyframes scan {
        0% { transform: translateX(-100%); }
        100% { transform: translateX(100%); }
    }
    
    .terminal-output {
        background: #000000;
        border: 2px solid var(--accent-green);
        border-radius: 8px;
        padding: 2rem;
        font-family: 'Courier New', monospace;
        color: var(--accent-green);
        margin: 2rem 0;
        position: relative;
        overflow: hidden;
    }
    
    .terminal-output::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 30px;
        background: linear-gradient(90deg, #ff0000 0%, #ffff00 16.66%, #00ff00 33.33%, #00ffff 50%, #0000ff 66.66%, #ff00ff 83.33%, #ff0000 100%);
        opacity: 0.1;
    }
    
    .typing-effect {
        overflow: hidden;
        border-right: 3px solid var(--accent-green);
        white-space: nowrap;
        animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite;
        max-width: fit-content;
    }
    
    @keyframes typing {
        from { width: 0; }
        to { width: 100%; }
    }
    
    @keyframes blink-caret {
        from, to { border-color: transparent; }
        50% { border-color: var(--accent-green); }
    }
    
    .floating-icon {
        position: absolute;
        font-size: 2rem;
        opacity: 0.3;
        animation: float 6s ease-in-out infinite;
    }
    
    .floating-icon:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
    .floating-icon:nth-child(2) { top: 80%; left: 20%; animation-delay: 1s; }
    .floating-icon:nth-child(3) { top: 40%; right: 10%; animation-delay: 2s; }
    .floating-icon:nth-child(4) { top: 70%; right: 20%; animation-delay: 3s; }
    
    @keyframes float {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(180deg); }
    }
    
    .btn-cyber-404 {
        background: linear-gradient(45deg, var(--accent-blue), var(--accent-green));
        border: none;
        color: white;
        font-weight: bold;
        text-transform: uppercase;
        letter-spacing: 2px;
        padding: 1rem 2rem;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }
    
    .btn-cyber-404::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.5s;
    }
    
    .btn-cyber-404:hover::before {
        left: 100%;
    }
    
    .btn-cyber-404:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(0, 212, 255, 0.4);
    }
    
    .error-details {
        background: rgba(0, 0, 0, 0.5);
        border: 1px solid var(--border-color);
        border-radius: 8px;
        padding: 1.5rem;
        margin: 2rem 0;
        backdrop-filter: blur(10px);
    }
</style>
{% endblock %}

{% block content %}
<div class="error-container relative">
    <!-- Floating Icons -->
    <div class="floating-icon">
        <i class="fas fa-skull text-red-400"></i>
    </div>
    <div class="floating-icon">
        <i class="fas fa-ghost text-blue-400"></i>
    </div>
    <div class="floating-icon">
        <i class="fas fa-bug text-green-400"></i>
    </div>
    <div class="floating-icon">
        <i class="fas fa-exclamation-triangle text-yellow-400"></i>
    </div>
    
    <div class="text-center max-w-4xl mx-auto px-6">
        <!-- Main Error Display -->
        <div class="cyber-card p-12 terminal-border">
            <!-- Error Code -->
            <div class="error-code">404</div>
            
            <!-- Glitch Effect Title -->
            <h1 class="glitch neon-glow mb-8" data-text="ACCESS DENIED">
                ACCESS DENIED
            </h1>
            
            <!-- Scan Line Effect -->
            <div class="scan-line"></div>
            
            <!-- Terminal Output -->
            <div class="terminal-output">
                <div class="mb-4">
                    <span class="text-red-400">[ERROR]</span> 
                    <span class="text-yellow-400">404</span> - 
                    <span class="text-blue-400">RESOURCE_NOT_FOUND</span>
                </div>
                
                <div class="mb-4">
                    <span class="text-green-400">┌──({{ session.username or 'guest' }}㉿hackinggpt)-[~/error]</span>
                </div>
                
                <div class="mb-4">
                    <span class="text-green-400">└─▶</span> 
                    <span class="typing-effect">locate {{ request.path }}</span>
                </div>
                
                <div class="mb-4 text-red-400">
                    locate: {{ request.path }}: No such file or directory
                </div>
                
                <div class="mb-4">
                    <span class="text-green-400">└─▶</span> 
                    <span class="text-white">file not found in secure directory</span>
                </div>
                
                <div class="text-yellow-400">
                    <span class="animate-pulse">█</span> Scanning for alternative routes...
                </div>
            </div>
            
            <!-- Error Details -->
            <div class="error-details">
                <h2 class="text-xl font-bold mb-4">
                    <i class="fas fa-info-circle mr-2" style="color: var(--accent-blue);"></i>
                    What happened?
                </h2>
                
                <div class="text-left space-y-3">
                    <p class="text-gray-300">
                        <i class="fas fa-map-marker-alt mr-2 text-red-400"></i>
                        The resource you're looking for at <code class="bg-gray-800 px-2 py-1 rounded">{{ request.path }}</code> doesn't exist.
                    </p>
                    
                    <p class="text-gray-300">
                        <i class="fas fa-shield-alt mr-2 text-yellow-400"></i>
                        This could be due to a typo in the URL, a moved resource, or insufficient permissions.
                    </p>
                    
                    <p class="text-gray-300">
                        <i class="fas fa-lightbulb mr-2 text-green-400"></i>
                        Try navigating to one of the available sections below.
                    </p>
                </div>
            </div>
            
            <!-- Quick Navigation -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 my-8">
                <a href="/" class="cyber-card p-4 hover:bg-gray-700 transition-colors group">
                    <i class="fas fa-home text-2xl mb-2 text-blue-400 group-hover:scale-110 transition-transform"></i>
                    <h3 class="font-semibold">Home</h3>
                    <p class="text-xs text-gray-400">Main dashboard</p>
                </a>
                
                {% if session.user_id %}
                <a href="/chat" class="cyber-card p-4 hover:bg-gray-700 transition-colors group">
                    <i class="fas fa-comments text-2xl mb-2 text-green-400 group-hover:scale-110 transition-transform"></i>
                    <h3 class="font-semibold">Chat</h3>
                    <p class="text-xs text-gray-400">AI assistance</p>
                </a>
                
                <a href="/scans" class="cyber-card p-4 hover:bg-gray-700 transition-colors group">
                    <i class="fas fa-search text-2xl mb-2 text-pink-400 group-hover:scale-110 transition-transform"></i>
                    <h3 class="font-semibold">Scans</h3>
                    <p class="text-xs text-gray-400">Security scans</p>
                </a>
                
                <a href="/tools" class="cyber-card p-4 hover:bg-gray-700 transition-colors group">
                    <i class="fas fa-tools text-2xl mb-2 text-yellow-400 group-hover:scale-110 transition-transform"></i>
                    <h3 class="font-semibold">Tools</h3>
                    <p class="text-xs text-gray-400">Security tools</p>
                </a>
                {% else %}
                <a href="/login" class="cyber-card p-4 hover:bg-gray-700 transition-colors group">
                    <i class="fas fa-sign-in-alt text-2xl mb-2 text-green-400 group-hover:scale-110 transition-transform"></i>
                    <h3 class="font-semibold">Login</h3>
                    <p class="text-xs text-gray-400">Access terminal</p>
                </a>
                
                <a href="/register" class="cyber-card p-4 hover:bg-gray-700 transition-colors group">
                    <i class="fas fa-user-plus text-2xl mb-2 text-pink-400 group-hover:scale-110 transition-transform"></i>
                    <h3 class="font-semibold">Register</h3>
                    <p class="text-xs text-gray-400">Create account</p>
                </a>
                
                <div class="cyber-card p-4 bg-gray-800 opacity-50">
                    <i class="fas fa-lock text-2xl mb-2 text-gray-500"></i>
                    <h3 class="font-semibold text-gray-500">Locked</h3>
                    <p class="text-xs text-gray-500">Login required</p>
                </div>
                {% endif %}
            </div>
            
            <!-- Action Buttons -->
            <div class="flex flex-col sm:flex-row gap-4 justify-center mt-8">
                <button onclick="history.back()" class="btn-cyber-404">
                    <i class="fas fa-arrow-left mr-2"></i>
                    Go Back
                </button>
                
                <a href="/" class="btn-cyber-404 text-center inline-block text-white no-underline">
                    <i class="fas fa-home mr-2"></i>
                    Home Base
                </a>
                
                {% if session.user_id %}
                <a href="/chat" class="btn-cyber-404 text-center inline-block text-white no-underline">
                    <i class="fas fa-robot mr-2"></i>
                    Ask AI
                </a>
                {% endif %}
            </div>
            
            <!-- Fun Error Messages -->
            <div class="mt-12 p-6 bg-black rounded-lg border border-green-400">
                <div class="text-green-400 font-mono text-sm" id="error-message">
                    <span class="text-red-400">[SYSTEM]</span> Initializing error handler...
                </div>
            </div>
        </div>
        
        <!-- Additional Help -->
        <div class="mt-8 text-center">
            <p class="text-gray-400 mb-4">
                Still lost in cyberspace? 
                {% if session.user_id %}
                Check your navigation or contact support.
                {% else %}
                Try logging in for full access to the system.
                {% endif %}
            </p>
            
            <div class="flex justify-center space-x-6 text-sm">
                <a href="mailto:support@hackinggpt.com" class="text-blue-400 hover:text-blue-300">
                    <i class="fas fa-envelope mr-1"></i>
                    Support
                </a>
                <a href="#" class="text-green-400 hover:text-green-300">
                    <i class="fas fa-question-circle mr-1"></i>
                    Help
                </a>
                <a href="#" class="text-yellow-400 hover:text-yellow-300">
                    <i class="fas fa-bug mr-1"></i>
                    Report Bug
                </a>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Error messages rotation
    const errorMessages = [
        '<span class="text-red-400">[SYSTEM]</span> Initializing error handler...',
        '<span class="text-yellow-400">[WARNING]</span> Page not found in system database',
        '<span class="text-blue-400">[INFO]</span> Searching alternative routes...',
        '<span class="text-green-400">[SUCCESS]</span> Error page loaded successfully',
        '<span class="text-pink-400">[DEBUG]</span> 404.html template rendered',
        '<span class="text-cyan-400">[TRACE]</span> User redirected to error handler'
    ];
    
    let messageIndex = 0;
    const messageElement = document.getElementById('error-message');
    
    function rotateMessage() {
        messageElement.style.opacity = '0';
        setTimeout(() => {
            messageElement.innerHTML = errorMessages[messageIndex];
            messageElement.style.opacity = '1';
            messageIndex = (messageIndex + 1) % errorMessages.length;
        }, 300);
    }
    
    // Initial message
    setTimeout(rotateMessage, 1000);
    
    // Rotate messages every 3 seconds
    setInterval(rotateMessage, 3000);
    
    // Add some random glitch effects
    function addGlitch() {
        const glitchElement = document.querySelector('.glitch');
        glitchElement.style.animation = 'none';
        setTimeout(() => {
            glitchElement.style.animation = 'glitch 2s infinite';
        }, 100);
    }
    
    // Random glitch every 10-30 seconds
    setInterval(addGlitch, Math.random() * 20000 + 10000);
    
    // Add hover effects to navigation cards
    document.querySelectorAll('.cyber-card').forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
            this.style.boxShadow = '0 10px 25px rgba(0, 212, 255, 0.2)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = 'none';
        });
    });
    
    // Keyboard shortcuts
    document.addEventListener('keydown', function(e) {
        switch(e.key) {
            case 'h':
            case 'H':
                if (e.ctrlKey || e.altKey) {
                    e.preventDefault();
                    window.location.href = '/';
                }
                break;
            case 'b':
            case 'B':
                if (e.ctrlKey || e.altKey) {
                    e.preventDefault();
                    history.back();
                }
                break;
            case 'c':
            case 'C':
                if ((e.ctrlKey || e.altKey) && {{ 'true' if session.user_id else 'false' }}) {
                    e.preventDefault();
                    window.location.href = '/chat';
                }
                break;
        }
    });
});

// Add some console easter egg
console.log(`
    ╔══════════════════════════════════════════════════════════╗
    ║                      404 NOT FOUND                       ║
    ║                                                          ║
    ║  The page you're looking for has vanished into the void  ║
    ║                                                          ║
    ║  Shortcuts:                                              ║
    ║  • Ctrl+H : Go to Home                                   ║
    ║  • Ctrl+B : Go Back                                      ║
    ║  • Ctrl+C : Open Chat (if logged in)                    ║
    ║                                                          ║
    ║              ~ HackingGPT Terminal ~                     ║
    ╚══════════════════════════════════════════════════════════╝
`);
</script>
{% endblock %}